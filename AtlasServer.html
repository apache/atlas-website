<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8 from src/site/markdown/AtlasServer.md at 2019-06-12
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20190612" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Apache Atlas &#x2013; Atlas Server Entity Type</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.7.min.js"></script>
  </head>
  <body class="topBarEnabled">
    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
            <div class="container" style="width: 68%;"><div class="nav-collapse">
            <ul class="nav">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Apache Atlas <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="index.html" title="Overview">Overview</a></li>
            <li><a href="license.html" title="License">License</a></li>
            <li><a href="Downloads.html" title="Downloads">Downloads</a></li>
            <li><a href="https://cwiki.apache.org/confluence/display/ATLAS" title="Wiki">Wiki</a></li>
            <li><a href="https://gitbox.apache.org/repos/asf/atlas.git" title="Git">Git</a></li>
            <li><a href="https://issues.apache.org/jira/browse/ATLAS" title="Jira">Jira</a></li>
            <li><a href="https://reviews.apache.org/groups/atlas/?sort=-time_added" title="Review Board">Review Board</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Information <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="project-info.html" title="Summary">Summary</a></li>
            <li><a href="mail-lists.html" title="Mailing Lists">Mailing Lists</a></li>
            <li><a href="team-list.html" title="Team">Team</a></li>
            <li><a href="issue-tracking.html" title="Issue Tracking">Issue Tracking</a></li>
            <li><a href="source-repository.html" title="Source Repository">Source Repository</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Downloads <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="Downloads.html" title="2.0.0">2.0.0</a></li>
            <li><a href="Downloads.html" title="1.2.0">1.2.0</a></li>
            <li><a href="Downloads.html" title="1.1.0">1.1.0</a></li>
            <li><a href="Downloads.html" title="1.0.0">1.0.0</a></li>
            <li><a href="Downloads.html" title="0.8.2">0.8.2</a></li>
            <li><a href="Downloads.html" title="0.8.1">0.8.1</a></li>
            <li><a href="Downloads.html" title="0.8-incubating">0.8-incubating</a></li>
            <li><a href="Downloads.html" title="0.7.1-incubating">0.7.1-incubating</a></li>
            <li><a href="Downloads.html" title="0.7-incubating">0.7-incubating</a></li>
            <li><a href="Downloads.html" title="0.6-incubating">0.6-incubating</a></li>
            <li><a href="Downloads.html" title="0.5-incubating">0.5-incubating</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="../index.html" title="latest">latest</a></li>
            <li><a href="../2.0.0/index.html" title="2.0.0">2.0.0</a></li>
            <li><a href="../1.2.0/index.html" title="1.2.0">1.2.0</a></li>
            <li><a href="../1.1.0/index.html" title="1.1.0">1.1.0</a></li>
            <li><a href="../1.0.0/index.html" title="1.0.0">1.0.0</a></li>
            <li><a href="../0.8.2/index.html" title="0.8.2">0.8.2</a></li>
            <li><a href="../0.8.1/index.html" title="0.8.1">0.8.1</a></li>
            <li><a href="../0.8.0-incubating/index.html" title="0.8-incubating">0.8-incubating</a></li>
            <li><a href="../0.7.1-incubating/index.html" title="0.7.1-incubating">0.7.1-incubating</a></li>
            <li><a href="../0.7.0-incubating/index.html" title="0.7-incubating">0.7-incubating</a></li>
            <li><a href="../0.6.0-incubating/index.html" title="0.6-incubating">0.6-incubating</a></li>
            <li><a href="../0.5.0-incubating/index.html" title="0.5-incubating">0.5-incubating</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">ASF <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="http://www.apache.org/foundation/how-it-works.html" title="How Apache Works">How Apache Works</a></li>
            <li><a href="https://www.apache.org/events/current-event" title="Events">Events</a></li>
            <li><a href="https://www.apache.org/licenses/" title="License">License</a></li>
            <li><a href="http://www.apache.org/foundation/" title="Foundation">Foundation</a></li>
            <li><a href="http://www.apache.org/foundation/sponsorship.html" title="Sponsoring Apache">Sponsoring Apache</a></li>
            <li><a href="http://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></li>
        </ul>
      </li>
            </ul>
<form id="search-form" action="https://www.google.com/search" method="get"  class="navbar-search pull-right" >
  <input value="http://atlas.apache.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript">asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
    <iframe src="https://www.facebook.com/plugins/like.php?href=http://atlas.apache.org/atlas-docs&send=false&layout=button_count&show-faces=false&action=like&colorscheme=dark"
        scrolling="no" frameborder="0"
        style="border:none; width:100px; height:20px; margin-top: 10px;"  class="pull-right" ></iframe>
    <script type="text/javascript">asyncJs( 'https://apis.google.com/js/plusone.js' )</script>
    <ul class="nav pull-right"><li style="margin-top: 10px;">
    <div class="g-plusone" data-href="http://atlas.apache.org/atlas-docs" data-size="medium"  width="60px" align="right" ></div>
    </li></ul>
            </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div id="banner">
        <div class="pull-left"><a href=".." id="bannerLeft"><img src="images/atlas-logo.png"  alt="Apache Atlas" width="200px" height="45px"/></a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
      <li class=""><a href="http://www.apache.org" class="externalLink" title="Apache">Apache</a><span class="divider">/</span></li>
      <li class=""><a href="index.html" title="Atlas">Atlas</a><span class="divider">/</span></li>
    <li class="active ">Atlas Server Entity Type</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2019-06-12</li>
          <li id="projectVersion" class="pull-right">Version: 2.0.0</li>
        </ul>
      </div>
        <div id="bodyColumn" >
<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one
  ~ or more contributor license agreements.  See the NOTICE file
  ~ distributed with this work for additional information
  ~ regarding copyright ownership.  The ASF licenses this file
  ~ to you under the Apache License, Version 2.0 (the
  ~ "License"); you may not use this file except in compliance
  ~ with the License.  You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<h1>Atlas Server Entity Type</h1>
<div class="section">
<div class="section">
<div class="section">
<h4><a name="Background"></a>Background</h4>
<p>The <i>AtlasServer</i> entity type is special entity type in following ways:</p>
<ul>

<li>Gets created during Export or Import operation.</li>
<li>It also has special property pages that display detailed audits for export and import operations.</li>
<li>Entities are linked to it using the new option within entity&#x2019;s attribute <i><a href="SoftReference">SoftReference</a></i>.</li>
</ul>
<p>The new type is available within the <i>Search By Type</i> dropdown in both <i>Basic</i> and <i>Advanced</i> search.</p></div>
<div class="section">
<h4><a name="Creation"></a>Creation</h4>
<p>The entity of this type is created upon successful completion of every Export and Import operation. The entity is created with current cluster&#x2019;s name.</p>
<p>The entity is also created based on export and import requests&#x2019; <i>replicatedTo</i> and <i>replicatedFrom</i> parameters.</p></div>
<div class="section">
<h4><a name="Details_within_Property_Page"></a>Details within Property Page</h4>
<p>The property page for <i>AtlasServer</i> entity has one additional tab &#x2018;Export/Import Audits&#x2019;. This has detailed audit record for each export and/or import operation performed on current Atlas instance.</p>
<p>The <i>additionalInfo</i> attribute property is discussed in detail below.</p>
<img src="images/markdown/atlas-server-properties.png" style="border:1px solid; margin-left:25px" alt="" />

<div class="section">
<div class="section">
<h6><a name="Export.2FImport_Audits"></a>Export/Import Audits</h6>
<p>The table has following columns:</p>
<ul>

<li><i>Operation</i>: EXPORT or IMPORT that denotes the operation performed on instance.</li>
<li><i>Source Server</i>: For an export operation performed on this instance, the value in this column will always be the cluster name of the current Atlas instance. This is the value specified in <i>atlas-application.properties</i> by the key <i>atlas.cluster.name</i>. If not value is specified &#x2018;default&#x2019; is used.</li>
<li><i>Target Server</i>: If an export operation is performed with <i>replicatedTo</i> property specified in the request, that value appears here.</li>
<li><i>Operation StartTime</i>: Time the operation was started.</li>
<li><i>Operation EndTIme</i>: Time the operation completed.</li>
<li><i>Tools</i>: Pop-up property page that contains details of the operation.</li>
</ul>
<img src="images/markdown/atlas-server-exp-imp-audits.png" style="border:1px solid; margin-left:25px" alt="" />
</div>
<div class="section">
<h6><a name="Example"></a>Example</h6>
<p>The following export request will end up creating <i>AtlasServer</i> entity with <i>clMain</i> as its name. The audit record of this operation will be displayed within the property page of this entity.</p>

<div>
<div>
<pre class="source">{
    &quot;itemsToExport&quot;: [
        { &quot;typeName&quot;: &quot;hive_db&quot;, &quot;uniqueAttributes&quot;: { &quot;qualifiedName&quot;: &quot;stocks@cl1&quot; }}
    ],
    &quot;options&quot;: {
        &quot;replicatedTo&quot;: &quot;clMain&quot;
    }
}
</pre></div></div>
</div></div></div>
<div class="section">
<h4><a name="Support_for_Cluster.E2.80.99s_Full_Name"></a>Support for Cluster&#x2019;s Full Name</h4>
<p>Often times it is necessary to disambiguate the name of the cluster by specifying the location or the data center within which the Atlas instance resides.</p>
<p>The name of the cluster can be specified by separating the location name and cluster name by &#x2018;$&#x2019;. For example, a clsuter name specified as &#x2018;SFO$cl1&#x2019; can be a cluster in San Fancisco (SFO) data center with the name &#x2018;cl1&#x2019;.</p>
<p>The <i>AtlasServer</i> will handle this and set its name as &#x2018;cl1&#x2019; and <i>fullName</i> as &#x2018;SFO@cl1&#x2019;.</p></div>
<div class="section">
<h4><a name="Additional_Information"></a>Additional Information</h4>
<p>This property in <i>AtlasServer</i> is a map with key and value both as String. This can be used to store any information pertaining to this instance.</p>
<p>Please see <a href="IncrementalExport">Incremental Export</a> for and example of how this property can be used.</p></div>
<div class="section">
<h4><a name="REST_APIs"></a>REST APIs</h4>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th>Title           </th>
<th>Atlas Server API                       </th></tr>
</thead><tbody>

<tr class="b">
<td>Example         </td>
<td>   see below.                          </td></tr>
<tr class="a">
<td>URL             </td>
<td> api/atlas/admin/server/{serverName}   </td></tr>
<tr class="b">
<td>Method          </td>
<td> GET                                   </td></tr>
<tr class="a">
<td>URL Parameters  </td>
<td> name of the server                    </td></tr>
<tr class="b">
<td>Data Parameters </td>
<td> None                                  </td></tr>
<tr class="a">
<td>Success Response</td>
<td> <i>AtlasServer</i>                         </td></tr>
<tr class="b">
<td>Error Response  </td>
<td> Errors Returned as AtlasBaseException </td></tr>
</tbody>
</table>
<div class="section">
<div class="section">
<h6><a name="CURL"></a>CURL</h6>

<div>
<div>
<pre class="source">curl -X GET -u admin:admin -H &quot;Content-Type: application/json&quot; -H &quot;Cache-Control: no-cache&quot; http://localhost:21000/api/atlas/admin/server/cl2
</pre></div></div>

<p>Output:</p>

<div>
<div>
<pre class="source">{
    &quot;guid&quot;: &quot;f87e4fd1-bfb5-482d-9ab1-e735621b7d16&quot;,
    &quot;name&quot;: &quot;cl2&quot;,
    &quot;qualifiedName&quot;: &quot;cl2&quot;,
    &quot;additionalInfo&quot;: {
        &quot;nextModifiedTimestamp&quot;: &quot;1533037289383&quot;,
        &quot;replicationOperation&quot;: &quot;EXPORT&quot;,
        &quot;topLevelEntity&quot;: &quot;stocks@cl1&quot;
    }
}
</pre></div></div></div></div></div></div></div>
        </div>
    </div>
    <hr/>
    <footer>
      <div class="container">
        <div class="row">
<p><a href="https://www.apache.org/foundation/contributing"><img src="https://www.apache.org/images/SupportApache-small.png" alt="Support the ASF" id="asf-logo" height="20" width="20" /></a>Copyright Â© 2011-2018 The Apache Software Foundation. Licensed under the <a href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.<br/>
Apache Atlas, Atlas, Apache, the Apache feather logo are trademarks of the <a href="https://www.apache.org">Apache Software Foundation</a>.<br/>
All other marks mentioned may be trademarks or registered trademarks of their respective owners.</p>
        </div>
        <p id="poweredBy" class="pull-right"><a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
</p>
      </div>
    </footer>
  </body>
</html>
