{"version":3,"sources":["/Users/keval/projects/atlas/patch-commit/docs/target/src/documents/Security/Security.md","/Users/keval/projects/atlas/patch-commit/docs/target/theme/styles/styled-colors.js"],"names":["layoutProps","MDXContent","components","props","mdxType","parentName","wrapLines","language","style","theme","isMDXComponent","dark","hljs","color"],"mappings":"2jBAcMA,EAAc,GAIL,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGC,EACF,8BACD,OAAO,cALS,UAKT,iBAAeH,EAAiBG,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAE5E,mBAAQ,CACN,GAAM,qCADR,qCAGA,mBAAQ,CACN,GAAM,YADR,YAGA,2GACA,wBACE,oBAAIC,WAAW,MAAf,OACA,oBAAIA,WAAW,MAAf,0BACA,oBAAIA,WAAW,MAAf,qCAEF,mBAAQ,CACN,GAAM,OADR,OAGA,2QACA,wBACE,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,mBAApB,0EACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,iBAApB,yGACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,mBAApB,wSACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,uBAApB,mOACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,wCAApB,8QACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,mCAApB,yCAA0I,oBAAIA,WAAW,MAAf,SAA1I,KAAkL,oBAAIA,WAAW,MAAf,QAAlL,KAAyN,oBAAIA,WAAW,MAAf,QAAzN,KAAgQ,oBAAIA,WAAW,MAAf,QAAhQ,KAAuS,oBAAIA,WAAW,MAAf,QAAvS,yMAAkhB,oBAAIA,WAAW,MAAf,SAAlhB,MAA2jB,oBAAIA,WAAW,MAAf,QAA3jB,MAAmmB,oBAAIA,WAAW,MAAf,QAAnmB,MAA2oB,oBAAIA,WAAW,MAAf,QAA3oB,MAAmrB,oBAAIA,WAAW,MAAf,QAAnrB,0VAEF,mBAAQ,CACN,GAAM,sCADR,sCAGA,iLAA8J,iCAAGA,WAAW,KAAQ,CAChL,KAAQ,0GADkJ,uCAA9J,yEAE0H,4BAAYA,WAAW,KAAvB,OAF1H,sEAGA,uEACA,wBACE,oBAAIA,WAAW,MAAf,aAAkC,4BAAYA,WAAW,MAAvB,OAAlC,cACA,oBAAIA,WAAW,MAAf,QAA6B,4BAAYA,WAAW,MAAvB,gBAC7B,oBAAIA,WAAW,MAAf,qFAA0G,oBAAIA,WAAW,MACrH,oBAAIA,WAAW,MAAf,6KAEJ,oBAAIA,WAAW,MAAf,qLAEF,oGACA,mBAAQ,CACN,GAAM,0BADR,0BAGA,6eACA,qFACA,wBACE,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,+BAApB,sSACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,+BAApB,mCACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,kCAApB,iPAA+U,iCAAGA,WAAW,MAAS,CAClW,KAAQ,6BADmU,qBAA/U,OAIF,gCACE,mBAAGA,WAAW,cAAd,mPAA+Q,iCAAGA,WAAW,KAAQ,CACjS,KAAQ,oBADmQ,oCAA/Q,MAIF,mBAAQ,CACN,GAAM,sBADR,sBAGA,sPACA,wBACE,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,wCAApB,kHACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,+CAApB,oEACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,yCAApB,iBACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,wCAApB,mBACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,2CAApB,uCACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,sCAApB,MAA0G,4BAAYA,WAAW,MAAvB,mBAC1G,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,yCAApB,MAA6G,4BAAYA,WAAW,MAAvB,uBAE/G,2GACA,cAAC,IAAD,CAAmBC,WAAW,EAAMC,SAAS,QAAQC,MAAOC,IAAYL,QAAQ,qBAAhF,qyCAuBA,sHACA,cAAC,IAAD,CAAmBE,WAAW,EAAMC,SAAS,OAAOC,MAAOC,IAAYL,QAAQ,qBAA/E,yrBAyBA,mBAAQ,CACN,GAAM,oCADR,oCAGA,oLACA,wBACE,oBAAIC,WAAW,MAAK,4BAAYA,WAAW,MAAvB,UAApB,2DACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,YAApB,+FAEF,8TACA,iFACA,wBACE,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,qCAApB,sGACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,kCAApB,wEACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,gDAApB,+KACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,6CAApB,yFACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,sBAApB,MAA0F,4BAAYA,WAAW,MAAvB,8CAE5F,uGAAoF,iCAAGA,WAAW,KAAQ,CACtG,KAAQ,wEADwE,mEAApF,iIAGA,mBAAQ,CACN,GAAM,iCADR,iCAGA,8UACA,2NACA,2EACA,wBACE,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,mBAApB,sGACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,iBAApB,oKACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,mBAApB,kOACA,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,wCAApB,+JAEF,iHACA,wBACE,oBAAIA,WAAW,MAAK,4BAAYA,WAAW,MAAvB,kCAApB,yEAEF,mBAAQ,CACN,GAAM,+BADR,+BAGA,0SACA,8BAAW,iCAAGA,WAAW,KAAQ,CAC7B,KAAQ,gHADD,0CAAX,KAGA,wBACE,oBAAIA,WAAW,MAAf,sQAEF,cAAC,IAAD,CAAmBC,WAAW,EAAMC,SAAS,QAAQC,MAAOC,IAAYL,QAAQ,qBAAhF,kKAMA,wBACE,oBAAIC,WAAW,MAAf,2MAEF,cAAC,IAAD,CAAmBC,WAAW,EAAMC,SAAS,QAAQC,MAAOC,IAAYL,QAAQ,qBAAhF,kKAMA,wBACE,oBAAIC,WAAW,MAAf,wDAEF,cAAC,IAAD,CAAmBC,WAAW,EAAMC,SAAS,QAAQC,MAAOC,IAAYL,QAAQ,qBAAhF,0KAMA,wBACE,oBAAIC,WAAW,MAAf,gFAEF,cAAC,IAAD,CAAmBC,WAAW,EAAMC,SAAS,QAAQC,MAAOC,IAAYL,QAAQ,qBAAhF,qGAGA,wBACE,oBAAIC,WAAW,MAAf,2CAEF,cAAC,IAAD,CAAmBC,WAAW,EAAMC,SAAS,QAAQC,MAAOC,IAAYL,QAAQ,qBAAhF,+LAGA,wBACE,oBAAIC,WAAW,MAAf,mCAEF,cAAC,IAAD,CAAmBC,WAAW,EAAMC,SAAS,QAAQC,MAAOC,IAAYL,QAAQ,qBAAhF,6QAYA,wBACE,oBAAIC,WAAW,MAAf,iEACA,oBAAIA,WAAW,MAAf,+CAEF,cAAC,IAAD,CAAmBC,WAAW,EAAMC,SAAS,QAAQC,MAAOC,IAAYL,QAAQ,qBAAhF,yvBAYA,wBACE,oBAAIC,WAAW,MAAf,8CACA,oBAAIA,WAAW,MAAf,2EAEF,cAAC,IAAD,CAAmBC,WAAW,EAAMC,SAAS,QAAQC,MAAOC,IAAYL,QAAQ,qBAAhF,uLAGA,wBACE,oBAAIC,WAAW,MAAf,gBAEF,cAAC,IAAD,CAAmBC,WAAW,EAAMC,SAAS,QAAQC,MAAOC,IAAYL,QAAQ,qBAAhF,sGAGA,wBACE,oBAAIC,WAAW,MAAf,cAEF,cAAC,IAAD,CAAmBC,WAAW,EAAMC,SAAS,QAAQC,MAAOC,IAAYL,QAAQ,qBAAhF,2HAIA,wBACE,oBAAIC,WAAW,MAAf,sKAA2L,iCAAGA,WAAW,MAAS,CAC9M,KAAQ,mBAD+K,oB,wLAQjMJ,EAAWS,gBAAiB,G,+DC9R5B,iFAqBAC,IAAKC,KAAKC,MAAQ,UACHF,MAAf","file":"static/js/documents-security-security.fdc1f743.js","sourcesContent":["\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsx mdx */\nimport  themen  from 'theme/styles/styled-colors';\nimport  * as theme  from 'react-syntax-highlighter/dist/esm/styles/hljs';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component '\" + name + \"' was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h1 {...{\n      \"id\": \"security-features-of-apache-atlas\"\n    }}>{`Security Features of Apache Atlas`}</h1>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`The following features are available for enhancing the security of the platform:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`SSL`}</li>\n      <li parentName=\"ul\">{`Service Authentication`}</li>\n      <li parentName=\"ul\">{`SPNEGO-based HTTP Authentication`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"ssl\"\n    }}>{`SSL`}</h2>\n    <p>{`Both SSL one-way (server authentication) and two-way (server and client authentication) are supported.  The following application properties (properties configured in the atlas-application.properties file) are available for configuring SSL:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.enableTLS`}</inlineCode>{` (false|true) `}{`[default: false]`}{` - enable/disable the SSL listener`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`keystore.file`}</inlineCode>{` - the path to the keystore file leveraged by the server.  This file contains the server certificate.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`truststore.file`}</inlineCode>{` - the path to the truststore file. This file contains the certificates of other trusted entities (e.g. the certificates for client processes if two-way SSL is enabled).  In most instances this can be set to the same value as the keystore.file property (especially if one-way SSL is enabled).`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`client.auth.enabled`}</inlineCode>{` (false|true) `}{`[default: false]`}{` - enable/disable client authentication.  If enabled, the client will have to authenticate to the server during the transport session key creation process (i.e. two-way SSL is in effect).`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`cert.stores.credential.provider.path`}</inlineCode>{` - the path to the Credential Provider store file.  The passwords for the keystore, truststore, and server certificate are maintained in this secure file.  Utilize the cputil script in the 'bin' directoy (see below) to populate this file with the passwords required.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.ssl.exclude.cipher.suites`}</inlineCode>{` - the excluded Cipher Suites list -  `}<em parentName=\"li\">{`NULL.`}</em>{`,.`}<em parentName=\"li\">{`RC4.`}</em>{`,.`}<em parentName=\"li\">{`MD5.`}</em>{`,.`}<em parentName=\"li\">{`DES.`}</em>{`,.`}<em parentName=\"li\">{`DSS.`}</em>{` are weak and unsafe Cipher Suites that are excluded by default. If additional Ciphers need to be excluded, set this property with the default Cipher Suites such as atlas.ssl.exclude.cipher.suites=.`}<em parentName=\"li\">{`NULL.`}</em>{`, .`}<em parentName=\"li\">{`RC4.`}</em>{`, .`}<em parentName=\"li\">{`MD5.`}</em>{`, .`}<em parentName=\"li\">{`DES.`}</em>{`, .`}<em parentName=\"li\">{`DSS.`}</em>{`, and add the additional Ciper Suites to the list with a comma separator. They can be added with their full name or a regular expression. The Cipher Suites listed in the atlas.ssl.exclude.cipher.suites property will have precedence over the default Cipher Suites. One would keep the default Cipher Suites, and add additional ones to be safe.`}</li>\n    </ul>\n    <h4 {...{\n      \"id\": \"credential-provider-utility-script\"\n    }}>{`Credential Provider Utility Script`}</h4>\n    <p>{`In order to prevent the use of clear-text passwords, the Atlas platofrm makes use of the Credential Provider facility for secure password storage (see `}<a parentName=\"p\" {...{\n        \"href\": \"http://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/CommandsManual.html#credentia\"\n      }}>{`Hadoop Credential Command Reference`}</a>{` for more information about this facility).  The cputil script in the `}<inlineCode parentName=\"p\">{`bin`}</inlineCode>{` directory can be leveraged to create the password store required.`}</p>\n    <p>{`To create the credential provdier for Atlas:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`cd to the `}<inlineCode parentName=\"li\">{`bin`}</inlineCode>{` directory`}</li>\n      <li parentName=\"ul\">{`type `}<inlineCode parentName=\"li\">{`./cputil.py`}</inlineCode></li>\n      <li parentName=\"ul\">{`Enter the path for the generated credential provider.  The format for the path is:`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`jceks://file/local/file/path/file.jceks or jceks://hdfs@namenodehost:port/path/in/hdfs/to/file.jceks.  The files generally use the \".jceks\" extension (e.g. test.jceks)`}</li>\n        </ul></li>\n      <li parentName=\"ul\">{`Enter the passwords for the keystore, truststore, and server key (these passwords need to match the ones utilized for actually creating the associated certificate store files).`}</li>\n    </ul>\n    <p>{`The credential provider will be generated and saved to the path provided.`}</p>\n    <h2 {...{\n      \"id\": \"service-authentication\"\n    }}>{`Service Authentication`}</h2>\n    <p>{`The Atlas platform, upon startup, is associated to an authenticated identity.  By default, in an insecure environment, that identity is the same as the OS authenticated user launching the server.  However, in a secure cluster leveraging kerberos, it is considered a best practice to configure a keytab and principal in order for the platform to authenticate to the KDC. This allows the service to subsequently interact with other secure cluster services (e.g. HDFS).`}</p>\n    <p>{`The properties for configuring service authentication are:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.authentication.method`}</inlineCode>{` (simple|kerberos) `}{`[default: simple]`}{` - the authentication method to utilize.  Simple will leverage the OS authenticated identity and is the default mechanism.  'kerberos' indicates that the service is required to authenticate to the KDC leveraging the configured keytab and principal.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.authentication.keytab`}</inlineCode>{` - the path to the keytab file.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.authentication.principal`}</inlineCode>{` - the principal to use for authenticating to the KDC.  The principal is generally of the form \"user/host@realm\".  You may use the '_HOST' token for the hostname and the local hostname will be substituted in by the runtime (e.g. \"Atlas/`}<a parentName=\"li\" {...{\n          \"href\": \"mailto:_HOST@EXAMPLE.COM\"\n        }}>{`_HOST@EXAMPLE.COM`}</a>{`\")`}</li>\n    </ul>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Note that when Atlas is configured with HBase as the storage backend in a secure cluster, the graph db (JanusGraph) needs sufficient user permissions to be able to create and access an HBase table.  To grant the appropriate permissions see `}<a parentName=\"p\" {...{\n          \"href\": \"#/Configuration\"\n        }}>{`Graph persistence engine - Hbase`}</a>{`.`}</p>\n    </blockquote>\n    <h3 {...{\n      \"id\": \"jaas-configuration\"\n    }}>{`JAAS configuration`}</h3>\n    <p>{`In a secure cluster, some of the components (such as Kafka) that Atlas interacts with, require Atlas to authenticate itself to them using JAAS. The following properties are used to set up appropriate JAAS Configuration.`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.jaas.client-id.loginModuleName`}</inlineCode>{` - the authentication method used by the component (for example, com.sun.security.auth.module.Krb5LoginModule)`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.jaas.client-id.loginModuleControlFlag`}</inlineCode>{` (required|requisite|sufficient|optional) `}{`[default: required]`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.jaas.client-id.option.useKeyTab`}</inlineCode>{` (true|false)`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.jaas.client-id.option.storeKey`}</inlineCode>{` (true | false)`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.jaas.client-id.option.serviceName`}</inlineCode>{` - service name of server component`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.jaas.client-id.option.keyTab`}</inlineCode>{` = `}<inlineCode parentName=\"li\">{`<atlas keytab>`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.jaas.client-id.option.principal`}</inlineCode>{` = `}<inlineCode parentName=\"li\">{`<atlas principal>`}</inlineCode></li>\n    </ul>\n    <p>{`For example, the following property settings in jaas-application.properties file`}</p>\n    <SyntaxHighlighter wrapLines={true} language=\"shell\" style={theme.dark} mdxType=\"SyntaxHighlighter\">\n      {`atlas.jaas.KafkaClient.loginModuleName = com.sun.security.auth.module.Krb5LoginModule\natlas.jaas.KafkaClient.loginModuleControlFlag = required\natlas.jaas.KafkaClient.option.useKeyTab = true\natlas.jaas.KafkaClient.option.storeKey = true\natlas.jaas.KafkaClient.option.serviceName = kafka\natlas.jaas.KafkaClient.option.keyTab = /etc/security/keytabs/kafka_client.keytab\natlas.jaas.KafkaClient.option.principal = kafka-client-1@EXAMPLE.COM\natlas.jaas.MyClient.0.loginModuleName = com.sun.security.auth.module.Krb5LoginModule\natlas.jaas.MyClient.0.loginModuleControlFlag = required\natlas.jaas.MyClient.0.option.useKeyTab = true\natlas.jaas.MyClient.0.option.storeKey = true\natlas.jaas.MyClient.0.option.serviceName = kafka\natlas.jaas.MyClient.0.option.keyTab = /etc/security/keytabs/kafka_client.keytab\natlas.jaas.MyClient.0.option.principal = kafka-client-1@EXAMPLE.COM\natlas.jaas.MyClient.1.loginModuleName = com.sun.security.auth.module.Krb5LoginModule\natlas.jaas.MyClient.1.loginModuleControlFlag = optional\natlas.jaas.MyClient.1.option.useKeyTab = true\natlas.jaas.MyClient.1.option.storeKey = true\natlas.jaas.MyClient.1.option.serviceName = kafka\natlas.jaas.MyClient.1.option.keyTab = /etc/security/keytabs/kafka_client.keytab\natlas.jaas.MyClient.1.option.principal = kafka-client-1@EXAMPLE.COM`}\n    </SyntaxHighlighter>\n    <p>{`will set the JAAS configuration that is equivalent to the following jaas.conf file entries.`}</p>\n    <SyntaxHighlighter wrapLines={true} language=\"json\" style={theme.dark} mdxType=\"SyntaxHighlighter\">\n      {`KafkaClient {\n   com.sun.security.auth.module.Krb5LoginModule required\n   useKeyTab=true\n   storeKey=true\n   serviceName=kafka\n   keyTab=\"/etc/security/keytabs/kafka_client.keytab\"\n   principal=\"kafka-client-1@EXAMPLE.COM\";\n};\nMyClient {\n   com.sun.security.auth.module.Krb5LoginModule required\n   useKeyTab=true\n   storeKey=true\n   serviceName=kafka keyTab=\"/etc/security/keytabs/kafka_client.keytab\"\n   principal=\"kafka-client-1@EXAMPLE.COM\";\n};\nMyClient {\n   com.sun.security.auth.module.Krb5LoginModule optional\n   useKeyTab=true\n   storeKey=true\n   serviceName=kafka\n   keyTab=\"/etc/security/keytabs/kafka_client.keytab\"\n   principal=\"kafka-client-1@EXAMPLE.COM\";\n};`}\n    </SyntaxHighlighter>\n    <h2 {...{\n      \"id\": \"spnego-based-http-authentication\"\n    }}>{`SPNEGO-based HTTP Authentication`}</h2>\n    <p>{`HTTP access to the Atlas platform can be secured by enabling the platform's SPNEGO support.  There are currently two supported authentication mechanisms:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`simple`}</inlineCode>{` - authentication is performed via a provided user name`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`kerberos`}</inlineCode>{` - the KDC authenticated identity of the client is leveraged to authenticate to the server`}</li>\n    </ul>\n    <p>{`The kerberos support requires the client accessing the server to first authenticate to the KDC (usually this is done via the 'kinit' command).  Once authenticated, the user may access the server (the authenticated identity will be related to the server via the SPNEGO negotiation mechanism).`}</p>\n    <p>{`The properties for configuring the SPNEGO support are:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.http.authentication.enabled`}</inlineCode>{` (true|false) `}{`[default: false]`}{` - a property indicating whether to enable HTTP authentication`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.http.authentication.type`}</inlineCode>{` (simple|kerberos) `}{`[default: simple]`}{` - the authentication type`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.http.authentication.kerberos.principal`}</inlineCode>{` - the web-application Kerberos principal name. The Kerberos principal name must start with \"HTTP/...\". For example: \"HTTP/localhost@LOCALHOST\". There is no default value.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.http.authentication.kerberos.keytab`}</inlineCode>{` - the path to the keytab file containing the credentials for the kerberos principal.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.rest.address`}</inlineCode>{` - `}<inlineCode parentName=\"li\">{`<http/https>://<atlas-fqdn>:<atlas port>`}</inlineCode></li>\n    </ul>\n    <p>{`For a more detailed discussion of the HTTP authentication mechanism refer to `}<a parentName=\"p\" {...{\n        \"href\": \"http://hadoop.apache.org/docs/stable/hadoop-auth/Configuration.html\"\n      }}>{`Hadoop Auth, Java HTTP SPNEGO 2.6.0 - Server Side Configuration`}</a>{`.  The prefix that document references is \"atlas.http.authentication\" in the case of the Atlas authentication implementation.`}</p>\n    <h3 {...{\n      \"id\": \"client-security-configuration\"\n    }}>{`Client security configuration`}</h3>\n    <p>{`When leveraging Atlas client code to communicate with an Atlas server configured for SSL transport and/or Kerberos authentication, there is a requirement to provide the Atlas client configuration file that provides the security properties that allow for communication with, or authenticating to, the server.`}</p>\n    <p>{`Update the atlas-application.properties file with the appropriate settings (see below) and copy it to the client's classpath or to the directory specified by the \"atlas.conf\" system property.`}</p>\n    <p>{`The client properties for SSL communication are:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.enableTLS`}</inlineCode>{` (false|true) `}{`[default: false]`}{` - enable/disable the SSL client communication infrastructure.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`keystore.file`}</inlineCode>{` - the path to the keystore file leveraged by the client.  This file is only required if 2-Way SSL is enabled at the server and contains the client certificate.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`truststore.file`}</inlineCode>{` - the path to the truststore file. This file contains the certificates of trusted entities (e.g. the certificates for the server or a shared certification authority). This file is required for both one-way or two-way SSL.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`cert.stores.credential.provider.path`}</inlineCode>{` - the path to the Credential Provider store file.  The passwords for the keystore, truststore, and client certificate are maintained in this secure file.`}</li>\n    </ul>\n    <p>{`The property required for authenticating to the server (if authentication is enabled):`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`atlas.http.authentication.type`}</inlineCode>{` (simple|kerberos) `}{`[default: simple]`}{` - the authentication type`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"solr-kerberos-configuration\"\n    }}>{`SOLR Kerberos configuration`}</h3>\n    <p>{`If the authentication type specified is 'kerberos', then the kerberos ticket cache will be accessed for authenticating to the server (Therefore the client is required to authenticate to the KDC prior to communication with the server using 'kinit' or a similar mechanism).`}</p>\n    <p>{`See `}<a parentName=\"p\" {...{\n        \"href\": \"https://cwiki.apache.org/confluence/display/RANGER/How+to+configure+Solr+Cloud+with+Kerberos+for+Ranger+0.5\"\n      }}>{`the Apache SOLR Kerberos configuration`}</a>{`.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Add principal and generate the keytab file for solr.  Create a keytab per host for each host where Solr is going to run and use the principal name with the host (e.g. addprinc -randkey solr/\\${HOST1}@EXAMPLE.COM. Replace \\${HOST1} with the actual host names).`}</li>\n    </ul>\n    <SyntaxHighlighter wrapLines={true} language=\"shell\" style={theme.dark} mdxType=\"SyntaxHighlighter\">\n      {`kadmin.local\nkadmin.local:  addprinc -randkey solr/<hostname>@EXAMPLE.COM\nkadmin.local:  xst -k solr.keytab solr/<hostname>@EXAMPLE.COM\nkadmin.local:  quit`}\n    </SyntaxHighlighter>\n    <ul>\n      <li parentName=\"ul\">{`Add principal and generate the keytab file for authenticating HTTP request. (Note that if Ambari is used to Kerberize the cluster, the keytab /etc/security/keytabs/spnego.service.keytab can be used)`}</li>\n    </ul>\n    <SyntaxHighlighter wrapLines={true} language=\"shell\" style={theme.dark} mdxType=\"SyntaxHighlighter\">\n      {`kadmin.local\nkadmin.local:  addprinc -randkey HTTP/<hostname>@EXAMPLE.COM\nkadmin.local:  xst -k HTTP.keytab HTTP/<hostname>@EXAMPLE.COM\nkadmin.local:  quit`}\n    </SyntaxHighlighter>\n    <ul>\n      <li parentName=\"ul\">{`Copy the keytab file to all the hosts running Solr.`}</li>\n    </ul>\n    <SyntaxHighlighter wrapLines={true} language=\"shell\" style={theme.dark} mdxType=\"SyntaxHighlighter\">\n      {`cp solr.keytab /etc/security/keytabs/\nchmod 400 /etc/security/keytabs/solr.keytab\ncp HTTP.keytab /etc/security/keytabs/\nchmod 400 /etc/security/keytabs/HTTP.keytab`}\n    </SyntaxHighlighter>\n    <ul>\n      <li parentName=\"ul\">{`Create path in Zookeeper for storing the Solr configs and other parameters.`}</li>\n    </ul>\n    <SyntaxHighlighter wrapLines={true} language=\"shell\" style={theme.dark} mdxType=\"SyntaxHighlighter\">\n      {`$SOLR_INSTALL_HOME/server/scripts/cloud-scripts/zkcli.sh -zkhost $ZK_HOST:2181 -cmd makepath solr`}\n    </SyntaxHighlighter>\n    <ul>\n      <li parentName=\"ul\">{`Upload the configuration to Zookeeper.`}</li>\n    </ul>\n    <SyntaxHighlighter wrapLines={true} language=\"shell\" style={theme.dark} mdxType=\"SyntaxHighlighter\">\n      {`$SOLR_INSTALL_HOME/server/scripts/cloud-scripts/zkcli.sh -cmd upconfig  -zkhost $ZK_HOST:2181/solr -confname basic_configs -confdir $SOLR_INSTALL_HOME/server/solr/configsets/_default/conf`}\n    </SyntaxHighlighter>\n    <ul>\n      <li parentName=\"ul\">{`Create the JAAS configuration.`}</li>\n    </ul>\n    <SyntaxHighlighter wrapLines={true} language=\"shell\" style={theme.dark} mdxType=\"SyntaxHighlighter\">\n      {`vi /etc/solr/conf/solr_jaas.conf\nClient {\n  com.sun.security.auth.module.Krb5LoginModule required\n  useKeyTab=true\n  keyTab=\"/etc/security/keytabs/solr.keytab\"\n  storeKey=true\n  useTicketCache=true\n  debug=true\n  principal=\"solr/<hostname>@EXAMPLE.COM\";\n};`}\n    </SyntaxHighlighter>\n    <ul>\n      <li parentName=\"ul\">{`Copy /etc/solr/conf/solr_jaas.conf to all hosts running Solr.`}</li>\n      <li parentName=\"ul\">{`Edit solr.in.sh in $SOLR_INSTALL_HOME/bin/`}</li>\n    </ul>\n    <SyntaxHighlighter wrapLines={true} language=\"shell\" style={theme.dark} mdxType=\"SyntaxHighlighter\">\n      {`vi $SOLR_INSTALL_HOME/bin/solr.in.sh\nSOLR_JAAS_FILE=/etc/solr/conf/solr_jaas.conf\nSOLR_HOST='hostname -f'\nZK_HOST=\"$ZK_HOST1:2181,$ZK_HOST2:2181,$ZK_HOST3:2181/solr\"\nKERBEROS_REALM=\"EXAMPLE.COM\"\nSOLR_KEYTAB=/etc/solr/conf/solr.keytab\nSOLR_KERB_PRINCIPAL=HTTP@{KERBEROS_REALM}\nSOLR_KERB_KEYTAB=/etc/solr/conf/HTTP.keytab\nSOLR_AUTHENTICATION_CLIENT_CONFIGURER=\"org.apache.solr.client.solrj.impl.Krb5HttpClientConfigurer\"\nSOLR_AUTHENTICATION_OPTS=\" -DauthenticationPlugin=org.apache.solr.security.KerberosPlugin -Djava.security.auth.login.config={SOLR_JAAS_FILE} -Dsolr.kerberos.principal={SOLR_KERB_PRINCIPAL} -Dsolr.kerberos.keytab={SOLR_KERB_KEYTAB} -Dsolr.kerberos.cookie.domain={SOLR_HOST} -Dhost={SOLR_HOST} -Dsolr.kerberos.name.rules=DEFAULT\"`}\n    </SyntaxHighlighter>\n    <ul>\n      <li parentName=\"ul\">{`Copy solr.in.sh to all hosts running Solr.`}</li>\n      <li parentName=\"ul\">{`Set up Solr to use the Kerberos plugin by uploading the security.json.`}</li>\n    </ul>\n    <SyntaxHighlighter wrapLines={true} language=\"shell\" style={theme.dark} mdxType=\"SyntaxHighlighter\">\n      {`$SOLR_INSTALL_HOME/server/scripts/cloud-scripts/zkcli.sh -zkhost <zk host>:2181 -cmd put /security.json '{\"authentication\":{\"class\": \"org.apache.solr.security.KerberosPlugin\"}}'`}\n    </SyntaxHighlighter>\n    <ul>\n      <li parentName=\"ul\">{`Start Solr.`}</li>\n    </ul>\n    <SyntaxHighlighter wrapLines={true} language=\"shell\" style={theme.dark} mdxType=\"SyntaxHighlighter\">\n      {`$SOLR_INSTALL_HOME/bin/solr start -cloud -z $ZK_HOST1:2181,$ZK_HOST2:2181,$ZK_HOST3:2181 -noprompt`}\n    </SyntaxHighlighter>\n    <ul>\n      <li parentName=\"ul\">{`Test Solr`}</li>\n    </ul>\n    <SyntaxHighlighter wrapLines={true} language=\"shell\" style={theme.dark} mdxType=\"SyntaxHighlighter\">\n      {`kinit -k -t /etc/security/keytabs/HTTP.keytab HTTP/<host>@EXAMPLE.COM\ncurl --negotiate -u : \"http://<host>:8983/solr/\"`}\n    </SyntaxHighlighter>\n    <ul>\n      <li parentName=\"ul\">{`Create collections in Solr corresponding to the indexes that Atlas uses and change the Atlas configuration to point to the Solr instance setup as described in the `}<a parentName=\"li\" {...{\n          \"href\": \"#/Installation\"\n        }}>{`Install Steps`}</a></li>\n    </ul>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { dark } from \"react-syntax-highlighter/dist/esm/styles/hljs\";\n\n//dark[\"powershell\"][\"color\"] = \"#37bb9b\";\ndark.hljs.color = \"#37bb9b\";\nexport default dark;"],"sourceRoot":""}