<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-07-09
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160709" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Apache Atlas &#x2013; Building & Installing Apache Atlas</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

                          
        
<script type="text/javascript">$( document ).ready( function() { $( '.carousel' ).carousel( { interval: 3500 } ) } );</script>
          
            </head>
        <body class="topBarEnabled">
          
                        
                    
                

    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
                                  <div class="container" style="width: 68%;"><div class="nav-collapse">
            
                
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Atlas <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="About">About</a>
</li>
                  
                      <li>      <a href="https://cwiki.apache.org/confluence/display/ATLAS"  title="Wiki">Wiki</a>
</li>
                  
                      <li>      <a href="https://cwiki.apache.org/confluence/display/ATLAS"  title="News">News</a>
</li>
                  
                      <li>      <a href="https://git-wip-us.apache.org/repos/asf/incubator-atlas.git"  title="Git">Git</a>
</li>
                  
                      <li>      <a href="https://issues.apache.org/jira/browse/ATLAS"  title="Jira">Jira</a>
</li>
                  
                      <li>      <a href="https://cwiki.apache.org/confluence/display/ATLAS/PoweredBy"  title="Powered by">Powered by</a>
</li>
                  
                      <li>      <a href="http://blogs.apache.org/atlas/"  title="Blog">Blog</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Information <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="project-info.html"  title="Summary">Summary</a>
</li>
                  
                      <li>      <a href="mail-lists.html"  title="Mailing Lists">Mailing Lists</a>
</li>
                  
                      <li>      <a href="http://webchat.freenode.net?channels=apacheatlas&uio=d4"  title="IRC">IRC</a>
</li>
                  
                      <li>      <a href="team-list.html"  title="Team">Team</a>
</li>
                  
                      <li>      <a href="issue-tracking.html"  title="Issue Tracking">Issue Tracking</a>
</li>
                  
                      <li>      <a href="source-repository.html"  title="Source Repository">Source Repository</a>
</li>
                  
                      <li>      <a href="license.html"  title="License">License</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Releases <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="http://www.apache.org/dyn/closer.cgi/incubator/atlas/0.7.0-incubating/"  title="0.7-incubating">0.7-incubating</a>
</li>
                  
                      <li>      <a href="http://archive.apache.org/dist/incubator/atlas/0.6.0-incubating/"  title="0.6-incubating">0.6-incubating</a>
</li>
                  
                      <li>      <a href="http://archive.apache.org/dist/incubator/atlas/0.5.0-incubating/"  title="0.5-incubating">0.5-incubating</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
                      <li><a href="../index.html" title="latest">latest</a></li>
                      <li><a href="../0.7.0-incubating/index.html"  title="0.7-incubating">0.7-incubating</a></li>
                      <li><a href="../0.6.0-incubating/index.html"  title="0.6-incubating">0.6-incubating</a></li>
                      <li><a href="../0.5.0-incubating/index.html"  title="0.5-incubating">0.5-incubating</a></li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">ASF <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="http://www.apache.org/foundation/how-it-works.html"  title="How Apache Works">How Apache Works</a>
</li>
                  
                      <li>      <a href="http://www.apache.org/foundation/"  title="Foundation">Foundation</a>
</li>
                  
                      <li>      <a href="http://www.apache.org/foundation/sponsorship.html"  title="Sponsoring Apache">Sponsoring Apache</a>
</li>
                  
                      <li>      <a href="http://www.apache.org/foundation/thanks.html"  title="Thanks">Thanks</a>
</li>
                          </ul>
      </li>
                  </ul>
          
                      <form id="search-form" action="http://www.google.com/search" method="get"  class="navbar-search pull-right" >
    
  <input value="http://atlas.incubator.apache.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
                            
            
            
            
    <iframe src="http://www.facebook.com/plugins/like.php?href=http://atlas.incubator.apache.org/atlas-docs&send=false&layout=button_count&show-faces=false&action=like&colorscheme=dark"
        scrolling="no" frameborder="0"
        style="border:none; width:80px; height:20px; margin-top: 10px;"  class="pull-right" ></iframe>
                        
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

        <ul class="nav pull-right"><li style="margin-top: 10px;">
    
    <div class="g-plusone" data-href="http://atlas.incubator.apache.org/atlas-docs" data-size="medium"  width="60px" align="right" ></div>

        </li></ul>
                              
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container">
          <div id="banner">
        <div class="pull-left">
                                                  <a href=".." id="bannerLeft">
                                                                                                <img src="images/atlas-logo.png"  alt="Apache Atlas" width="200px" height="45px"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://incubator.apache.org" id="bannerRight">
                                                                                                <img src="images/apache-incubator-logo.png"  alt="Apache Incubator"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://www.apache.org" class="externalLink" title="Apache">
        Apache</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="index.html" title="Atlas">
        Atlas</a>
        </li>
      <li class="divider ">/</li>
        <li class="">Building & Installing Apache Atlas</li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2016-07-09</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 0.7-incubating</li>
            
                            </ul>
      </div>

      
                        
        <div id="bodyColumn" >
                                  
            <div class="section">
<h3><a name="Building__Installing_Apache_Atlas"></a>Building &amp; Installing Apache Atlas</h3></div>
<div class="section">
<h4><a name="Building_Atlas"></a>Building Atlas</h4>
<div class="source">
<pre>
git clone https://git-wip-us.apache.org/repos/asf/incubator-atlas.git atlas

cd atlas

export MAVEN_OPTS=&quot;-Xmx1536m -XX:MaxPermSize=512m&quot; &amp;&amp; mvn clean install

</pre></div>
<p>Once the build successfully completes, artifacts can be packaged for deployment.</p>
<div class="source">
<pre>

mvn clean package -Pdist


</pre></div>
<p>To build a distribution that configures Atlas for external HBase and Solr, build with the external-hbase-solr profile.</p>
<div class="source">
<pre>

mvn clean package -Pdist,external-hbase-solr


</pre></div>
<p>Note that when the external-hbase-solr profile is used the following steps need to be completed to make Atlas functional.</p>
<ul>
<li>Configure atlas.graph.storage.hostname (see &quot;Graph persistence engine - HBase&quot; in the <a href="./Configuration.html">Configuration</a> section).</li>
<li>Configure atlas.graph.index.search.solr.zookeeper-url (see &quot;Graph Search Index - Solr&quot; in the <a href="./Configuration.html">Configuration</a> section).</li>
<li>Set HBASE_CONF_DIR to point to a valid HBase config directory (see &quot;Graph persistence engine - HBase&quot; in the <a href="./Configuration.html">Configuration</a> section).</li>
<li>Create the SOLR indices (see &quot;Graph Search Index - Solr&quot; in the <a href="./Configuration.html">Configuration</a> section).</li></ul>
<p>To build a distribution that packages HBase and Solr, build with the embedded-hbase-solr profile.</p>
<div class="source">
<pre>

mvn clean package -Pdist,embedded-hbase-solr


</pre></div>
<p>Using the embedded-hbase-solr profile will configure Atlas so that an HBase instance and a Solr instance will be started and stopped along with the Atlas server by default.</p>
<p>Atlas also supports building a distribution that can use BerkeleyDB and Elastic search as the graph and index backends. To build a distribution that is configured for these backends, build with the berkeley-elasticsearch profile.</p>
<div class="source">
<pre>

mvn clean package -Pdist,berkeley-elasticsearch


</pre></div>
<p>An additional step is required for the binary built using this profile to be used along with the Atlas distribution. Due to licensing requirements, Atlas does not bundle the BerkeleyDB Java Edition in the tarball.</p>
<p>You can download the Berkeley DB jar file from the URL: <verbatim><a class="externalLink" href="http://download.oracle.com/otn/berkeley-db/je-5.0.73.zip">http://download.oracle.com/otn/berkeley-db/je-5.0.73.zip</a></verbatim> and copy the je-5.0.73.jar to the ${atlas_home}/libext directory.</p>
<p>Tar can be found in atlas/distro/target/apache-atlas-${project.version}-bin.tar.gz</p>
<p>Tar is structured as follows</p>
<div class="source">
<pre>

|- bin
   |- atlas_start.py
   |- atlas_stop.py
   |- atlas_config.py
   |- quick_start.py
   |- cputil.py
|- conf
   |- atlas-application.properties
   |- atlas-env.sh
   |- hbase
      |- hbase-site.xml.template
   |- log4j.xml
   |- solr
      |- currency.xml
      |- lang
         |- stopwords_en.txt
      |- protowords.txt
      |- schema.xml
      |- solrconfig.xml
      |- stopwords.txt
      |- synonyms.txt
|- docs
|- hbase
   |- bin
   |- conf
   ...
|- server
   |- webapp
      |- atlas.war
|- solr
   |- bin
   ...
|- README
|- NOTICE
|- LICENSE
|- DISCLAIMER.txt
|- CHANGES.txt


</pre></div>
<p>Note that if the embedded-hbase-solr profile is specified for the build then HBase and Solr are included in the distribution.</p>
<p>In this case, a standalone instance of HBase can be started as the default storage backend for the graph repository. During Atlas installation the conf/hbase/hbase-site.xml.template gets expanded and moved to hbase/conf/hbase-site.xml for the initial standalone HBase configuration.  To configure ATLAS graph persistence for a different HBase instance, please see &quot;Graph persistence engine - HBase&quot; in the <a href="./Configuration.html">Configuration</a> section.</p>
<p>Also, a standalone instance of Solr can be started as the default search indexing backend.  To configure ATLAS search indexing for a different Solr instance please see &quot;Graph Search Index - Solr&quot; in the <a href="./Configuration.html">Configuration</a> section.</p></div>
<div class="section">
<h4><a name="Installing__Running_Atlas"></a>Installing &amp; Running Atlas</h4></div>
<div class="section">
<h5><a name="Installing_Atlas"></a>Installing Atlas</h5>
<div class="source">
<pre>
tar -xzvf apache-atlas-${project.version}-bin.tar.gz

cd atlas-${project.version}

</pre></div></div>
<div class="section">
<h5><a name="Configuring_Atlas"></a>Configuring Atlas</h5>
<p>By default config directory used by Atlas is {package dir}/conf. To override this set environment variable ATLAS_CONF to the path of the conf dir.</p>
<p>atlas-env.sh has been added to the Atlas conf. This file can be used to set various environment variables that you need for you services. In addition you can set any other environment variables you might need. This file will be sourced by atlas scripts before any commands are executed. The following environment variables are available to set.</p>
<div class="source">
<pre>
# The java implementation to use. If JAVA_HOME is not found we expect java and jar to be in path
#export JAVA_HOME=

# any additional java opts you want to set. This will apply to both client and server operations
#export ATLAS_OPTS=

# any additional java opts that you want to set for client only
#export ATLAS_CLIENT_OPTS=

# java heap size we want to set for the client. Default is 1024MB
#export ATLAS_CLIENT_HEAP=

# any additional opts you want to set for atlas service.
#export ATLAS_SERVER_OPTS=

# java heap size we want to set for the atlas server. Default is 1024MB
#export ATLAS_SERVER_HEAP=

# What is is considered as atlas home dir. Default is the base locaion of the installed software
#export ATLAS_HOME_DIR=

# Where log files are stored. Defatult is logs directory under the base install location
#export ATLAS_LOG_DIR=

# Where pid files are stored. Defatult is logs directory under the base install location
#export ATLAS_PID_DIR=

# where the atlas titan db data is stored. Defatult is logs/data directory under the base install location
#export ATLAS_DATA_DIR=

# Where do you want to expand the war file. By Default it is in /server/webapp dir under the base install dir.
#export ATLAS_EXPANDED_WEBAPP_DIR=

</pre></div>
<p><b>Settings to support large number of metadata objects</b></p>
<p>If you plan to store several tens of thousands of metadata objects, it is recommended that you use values tuned for better GC performance of the JVM.</p>
<p>The following values are common server side options:</p>
<div class="source">
<pre>
export ATLAS_SERVER_OPTS=&quot;-server -XX:SoftRefLRUPolicyMSPerMB=0 -XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:+PrintTenuringDistribution -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=dumps/atlas_server.hprof -Xloggc:logs/gc-worker.log -verbose:gc -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=1m -XX:+PrintGCDetails -XX:+PrintHeapAtGC -XX:+PrintGCTimeStamps&quot;

</pre></div>
<p>The <tt>-XX:SoftRefLRUPolicyMSPerMB</tt> option was found to be particularly helpful to regulate GC performance for query heavy workloads with many concurrent users.</p>
<p>The following values are recommended for JDK 7:</p>
<div class="source">
<pre>
export ATLAS_SERVER_HEAP=&quot;-Xms15360m -Xmx15360m -XX:MaxNewSize=3072m -XX:PermSize=100M -XX:MaxPermSize=512m&quot;

</pre></div>
<p>The following values are recommended for JDK 8:</p>
<div class="source">
<pre>
export ATLAS_SERVER_HEAP=&quot;-Xms15360m -Xmx15360m -XX:MaxNewSize=5120m -XX:MetaspaceSize=100M -XX:MaxMetaspaceSize=512m&quot;

</pre></div>
<p><b>NOTE for Mac OS users</b> If you are using a Mac OS, you will need to configure the ATLAS_SERVER_OPTS (explained above).</p>
<p>In  {package dir}/conf/atlas-env.sh uncomment the following line</p>
<div class="source">
<pre>
#export ATLAS_SERVER_OPTS=

</pre></div>
<p>and change it to look as below</p>
<div class="source">
<pre>
export ATLAS_SERVER_OPTS=&quot;-Djava.awt.headless=true -Djava.security.krb5.realm= -Djava.security.krb5.kdc=&quot;

</pre></div>
<p><b>Hbase as the Storage Backend for the Graph Repository</b></p>
<p>By default, Atlas uses Titan as the graph repository and is the only graph repository implementation available currently. The HBase versions currently supported are 1.1.x. For configuring ATLAS graph persistence on HBase, please see &quot;Graph persistence engine - HBase&quot; in the <a href="./Configuration.html">Configuration</a> section for more details.</p>
<p>Pre-requisites for running HBase as a distributed cluster</p>
<ul>
<li>3 or 5 ZooKeeper nodes</li>
<li>Atleast 3 RegionServer nodes. It would be ideal to run the DataNodes on the same hosts as the Region servers for data locality.</li></ul>
<p>HBase tablename in Titan can be set using the following configuration in ATLAS_HOME/conf/atlas-application.properties:</p>
<div class="source">
<pre>
atlas.graph.storage.hbase.table=apache_atlas_titan
atlas.audit.hbase.tablename=apache_atlas_entity_audit

</pre></div>
<p><b>Configuring SOLR as the Indexing Backend for the Graph Repository</b></p>
<p>By default, Atlas uses Titan as the graph repository and is the only graph repository implementation available currently. For configuring Titan to work with Solr, please follow the instructions below</p>
<p></p>
<ul>
<li>Install solr if not already running. The version of SOLR supported is 5.2.1. Could be installed from <a class="externalLink" href="http://archive.apache.org/dist/lucene/solr/5.2.1/solr-5.2.1.tgz">http://archive.apache.org/dist/lucene/solr/5.2.1/solr-5.2.1.tgz</a></li></ul>
<p></p>
<ul>
<li>Start solr in cloud mode.</li></ul>SolrCloud mode uses a ZooKeeper Service as a highly available, central location for cluster management.   For a small cluster, running with an existing ZooKeeper quorum should be fine. For larger clusters, you would want to run separate multiple ZooKeeper quorum with atleast 3 servers.   Note: Atlas currently supports solr in &quot;cloud&quot; mode only. &quot;http&quot; mode is not supported. For more information, refer solr documentation - <a class="externalLink" href="https://cwiki.apache.org/confluence/display/solr/SolrCloud">https://cwiki.apache.org/confluence/display/solr/SolrCloud</a>
<p></p>
<ul>
<li>For e.g., to bring up a Solr node listening on port 8983 on a machine, you can use the command:</li></ul>
<div class="source">
<pre>
      $SOLR_HOME/bin/solr start -c -z &lt;zookeeper_host:port&gt; -p 8983
      
</pre></div>
<p></p>
<ul>
<li>Run the following commands from SOLR_BIN (e.g. $SOLR_HOME/bin) directory to create collections in Solr corresponding to the indexes that Atlas uses. In the case that the ATLAS and SOLR instance are on 2 different hosts,</li></ul>first copy the required configuration files from ATLAS_HOME/conf/solr on the ATLAS instance host to the Solr instance host. SOLR_CONF in the below mentioned commands refer to the directory where the solr configuration files   have been copied to on Solr host:
<div class="source">
<pre>
  $SOLR_BIN/solr create -c vertex_index -d SOLR_CONF -shards #numShards -replicationFactor #replicationFactor
  $SOLR_BIN/solr create -c edge_index -d SOLR_CONF -shards #numShards -replicationFactor #replicationFactor
  $SOLR_BIN/solr create -c fulltext_index -d SOLR_CONF -shards #numShards -replicationFactor #replicationFactor

</pre></div>
<p>Note: If numShards and replicationFactor are not specified, they default to 1 which suffices if you are trying out solr with ATLAS on a single node instance.   Otherwise specify numShards according to the number of hosts that are in the Solr cluster and the maxShardsPerNode configuration.   The number of shards cannot exceed the total number of Solr nodes in your !SolrCloud cluster.</p>
<p>The number of replicas (replicationFactor) can be set according to the redundancy required.</p>
<p>Also note that solr will automatically be called to create the indexes when the Atlas server is started if the   SOLR_BIN and SOLR_CONF environment variables are set and the search indexing backend is set to 'solr5'.</p>
<p></p>
<ul>
<li>Change ATLAS configuration to point to the Solr instance setup. Please make sure the following configurations are set to the below values in ATLAS_HOME/conf/atlas-application.properties</li></ul>
<div class="source">
<pre>
 atlas.graph.index.search.backend=solr5
 atlas.graph.index.search.solr.mode=cloud
 atlas.graph.index.search.solr.zookeeper-url=&lt;the ZK quorum setup for solr as comma separated value&gt; eg: 10.1.6.4:2181,10.1.6.5:2181

</pre></div>
<p></p>
<ul>
<li>Restart Atlas</li></ul>
<p>For more information on Titan solr configuration , please refer <a class="externalLink" href="http://s3.thinkaurelius.com/docs/titan/0.5.4/solr.htm">http://s3.thinkaurelius.com/docs/titan/0.5.4/solr.htm</a></p>
<p>Pre-requisites for running Solr in cloud mode   * Memory - Solr is both memory and CPU intensive. Make sure the server running Solr has adequate memory, CPU and disk.     Solr works well with 32GB RAM. Plan to provide as much memory as possible to Solr process   * Disk - If the number of entities that need to be stored are large, plan to have at least 500 GB free space in the volume where Solr is going to store the index data   * SolrCloud has support for replication and sharding. It is highly recommended to use SolrCloud with at least two Solr nodes running on different servers with replication enabled.     If using SolrCloud, then you also need ZooKeeper installed and configured with 3 or 5 ZooKeeper nodes</p>
<p><b>Configuring Kafka Topics</b></p>
<p>Atlas uses Kafka to ingest metadata from other components at runtime. This is described in the <a href="./Architecture.html">Architecture page</a> in more detail. Depending on the configuration of Kafka, sometimes you might need to setup the topics explicitly before using Atlas. To do so, Atlas provides a script <tt>bin/atlas_kafka_setup.py</tt> which can be run from the Atlas server. In some environments, the hooks might start getting used first before Atlas server itself is setup. In such cases, the topics can be run on the hosts where hooks are installed using a similar script <tt>hook-bin/atlas_kafka_setup_hook.py</tt>. Both these use configuration in <tt>atlas-application.properties</tt> for setting up the topics. Please refer to the <a href="./Configuration.html">Configuration page</a> for these details.</p></div>
<div class="section">
<h5><a name="Setting_up_Atlas"></a>Setting up Atlas</h5>
<p>There are a few steps that setup dependencies of Atlas. One such example is setting up the Titan schema in the storage backend of choice. In a simple single server setup, these are automatically setup with default configuration when the server first accesses these dependencies.</p>
<p>However, there are scenarios when we may want to run setup steps explicitly as one time operations. For example, in a multiple server scenario using <a href="./HighAvailability.html">High Availability</a>, it is preferable to run setup steps from one of the server instances the first time, and then start the services.</p>
<p>To run these steps one time, execute the command <tt>bin/atlas_start.py -setup</tt> from a single Atlas server instance.</p>
<p>However, the Atlas server does take care of parallel executions of the setup steps. Also, running the setup steps multiple times is idempotent. Therefore, if one chooses to run the setup steps as part of server startup, for convenience, then they should enable the configuration option <tt>atlas.server.run.setup.on.start</tt> by defining it with the value <tt>true</tt> in the <tt>atlas-application.properties</tt> file.</p></div>
<div class="section">
<h5><a name="Starting_Atlas_Server"></a>Starting Atlas Server</h5>
<div class="source">
<pre>
bin/atlas_start.py [-port &lt;port&gt;]

</pre></div>
<p>By default,</p>
<ul>
<li>To change the port, use -port option.</li>
<li>atlas server starts with conf from {package dir}/conf. To override this (to use the same conf with multiple atlas upgrades), set environment variable ATLAS_CONF to the path of conf dir</li></ul></div>
<div class="section">
<h4><a name="Using_Atlas"></a>Using Atlas</h4>
<p></p>
<ul>
<li>Quick start model - sample model and data</li></ul>
<div class="source">
<pre>
  bin/quick_start.py [&lt;atlas endpoint&gt;]

</pre></div>
<p></p>
<ul>
<li>Verify if the server is up and running</li></ul>
<div class="source">
<pre>
  curl -v http://localhost:21000/api/atlas/admin/version
  {&quot;Version&quot;:&quot;v0.1&quot;}

</pre></div>
<p></p>
<ul>
<li>List the types in the repository</li></ul>
<div class="source">
<pre>
  curl -v http://localhost:21000/api/atlas/types
  {&quot;results&quot;:[&quot;Process&quot;,&quot;Infrastructure&quot;,&quot;DataSet&quot;],&quot;count&quot;:3,&quot;requestId&quot;:&quot;1867493731@qtp-262860041-0 - 82d43a27-7c34-4573-85d1-a01525705091&quot;}

</pre></div>
<p></p>
<ul>
<li>List the instances for a given type</li></ul>
<div class="source">
<pre>
  curl -v http://localhost:21000/api/atlas/entities?type=hive_table
  {&quot;requestId&quot;:&quot;788558007@qtp-44808654-5&quot;,&quot;list&quot;:[&quot;cb9b5513-c672-42cb-8477-b8f3e537a162&quot;,&quot;ec985719-a794-4c98-b98f-0509bd23aac0&quot;,&quot;48998f81-f1d3-45a2-989a-223af5c1ed6e&quot;,&quot;a54b386e-c759-4651-8779-a099294244c4&quot;]}

  curl -v http://localhost:21000/api/atlas/entities/list/hive_db

</pre></div>
<p></p>
<ul>
<li>Search for entities (instances) in the repository</li></ul>
<div class="source">
<pre>
  curl -v http://localhost:21000/api/atlas/discovery/search/dsl?query=&quot;from hive_table&quot;

</pre></div>
<p><b>Dashboard</b></p>
<p>Once atlas is started, you can view the status of atlas entities using the Web-based dashboard. You can open your browser at the corresponding port to use the web UI.</p></div>
<div class="section">
<h4><a name="Stopping_Atlas_Server"></a>Stopping Atlas Server</h4>
<div class="source">
<pre>
bin/atlas_stop.py

</pre></div></div>
<div class="section">
<h4><a name="Known_Issues"></a>Known Issues</h4></div>
<div class="section">
<h5><a name="Setup"></a>Setup</h5>
<p>If the setup of Atlas service fails due to any reason, the next run of setup (either by an explicit invocation of <tt>atlas_start.py -setup</tt> or by enabling the configuration option <tt>atlas.server.run.setup.on.start</tt>) will fail with a message such as <tt>A previous setup run may not have completed cleanly.</tt>. In such cases, you would need to manually ensure the setup can run and delete the Zookeeper node at <tt>/apache_atlas/setup_in_progress</tt> before attempting to run setup again.</p>
<p>If the setup failed due to HBase Titan schema setup errors, it may be necessary to repair the HBase schema. If no data has been stored, one can also disable and drop the 'titan' schema in HBase to let setup run again.</p></div>
                  </div>
          </div>

    <hr/>

    <footer>
            <div class="container">
              <div class="row span12">Copyright &copy;                    2015-2016
                        <a href="http://www.apache.org">Apache Software Foundation</a>.
            All Rights Reserved.      
                    
      </div>

                          
                <p id="poweredBy" class="pull-right">
                          <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
              </p>
        
                </div>
    </footer>
  </body>
</html>
